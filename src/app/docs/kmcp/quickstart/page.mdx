---
title: "Quickstart"
pageOrder: 20
description: "Get started with KMCP"
---

# Quickstart

Install the KMCP CLI, and quickly develop and spin up a FastMCP server in your Kubernetes cluster. 

## Prerequisites

- [Docker](https://docs.docker.com/desktop/) for building your MCP server images locally
- [Kind](https://kind.sigs.k8s.io) for creating and running a local Kubernetes cluster
- [Helm](https://helm.sh/docs/intro/install/) for installing the KMCP chart
- [uv](https://docs.astral.sh/uv/getting-started/installation/) for running FastMCP servers

## Install the KMCP CLI

1. Download the KMCP CLI from the [release page](https://github.com/kagent-dev/kmcp/releases). 

2. Move the KMCP CLI to your binary directory.
   ```sh
   chmod +x kmcp
   mv kmcp /usr/local/bin 
   export PATH=$HOME/.kmcp/bin:$PATH 
   ```

3. Verify that the KMCP CLI is installed. 
   ```sh
   kmcp --help
   ```
 
## Develop an MCP server

Use KMCP to quickly create a scaffold for your first MCP server project. The scaffold inclues all the components to spin up an MCP server that exposes an `echo` MCP tool. The tool echoes back any string that you send to it. 

1. Create a scaffold for your MCP server project. 
   Follow the interactive CLI prompts to select the MCP framework that you want to use, such as [FastMCP docs](https://github.com/jlowin/fastmcp).
   
   The following command creates a `my-mcp-server` directory that includes a sample MCP server and a default echo tool that you can use to later test your server. 
   ```sh
   kmcp init my-mcp-server 
   ```
   
2. Create a Docker container image for your MCP server. 
   ```sh
   cd my-mcp-server
   kmcp build --docker --tag latest . -v 
   ```
   
   Example output: 
   ```
   âœ“ Successfully built Docker image: my-mcp-server:latest
   ```

3. Load the image to your kind cluster. 
   ```sh
   kind load docker-image my-mcp-server:latest --name kind 
   ```

## Install the KMCP controller

Install the KMCP controller in your cluster. The controller automatically manages the lifecycle of MCP servers that are defined in an MCPServer resource.

1. Create a kind cluster. 
   ```sh
   kind create cluster
   ```

2. Install the following KMCP controller components in your kind cluster: 
   * The MCPServer Custom Resource Definition to define your MCP server. 
   * The ClusterRole and ClusterRoleBinding to control RBAC permissions for the KMCP controller.
   * The KMCP controller deployment that automatically manages the lifecycle of MCPServer resources. 
   
   ```sh
   kmcp install
   ```
   
   Need to change controller image
   And download from here https://github.com/kagent-dev/kmcp/pkgs/container/kmcp%2Fcontroller
   First, docker login ghcr.io (with user name and personal access token)
   Then, docker pull ghcr.io/kagent-dev/kmcp/controller:v0.0.1-test
   Then, docker load docker-image ghcr.io/kagent-dev/kmcp/controller:v0.0.1-test2 --name kind
   Then, kubectl edit deployment kmcp-controller-manager -n kmcp-system  
   Then, change to test2 image 

3. Verify that the KMCP controller is up and running. 
   ```sh
   kubectl get pods -n kmcp-system
   ```
   
4. Optional: View the logs of the KMCP controller. 
   ```sh
   kubectl logs -l app.kubernetes.io/name=kmcp -n kmcp-system
   ```
   
## Deploy the MCP server

With the KMCP controller manager in place, you can now deploy the MCP server that you built earlier. 

1. Create an MCP server resource that references the MCP server image that you built earlier. 
   ```yaml
   kubectl apply -f- <<EOF
   apiVersion: kagent.dev/v1alpha1
   kind: MCPServer
   metadata:
     name: my-mcp-server
   spec:
     deployment:
       image: "my-mcp-server:latest"
       port: 3000
       cmd: "python"
       args: ["src/main.py"]
     transportType: "stdio"
   EOF
   ```
   
If the MCP server does not come up, change the image pull policy to `IfNotPresent`

2. Verify that your MCP server is up and running. 
   ```sh
   kubectl get pods 
   ```
   
   Example output: 
   ```sh
   NAME                             READY   STATUS    RESTARTS   AGE
   my-mcp-server-5745b494b6-fwzmf   1/1     Running   0          10s
   ```

## Test access to the MCP server

1. Port-forward the MCP server that you deployed. 
   ```sh
   kubectl port-forward deploy/my-mcp-server 3000
   ```

2. Open the MCP inspector tool. In your CLI output, find the URL that the MCP inspector tool is exposed on. 
   ```sh
   npx @modelcontextprotocol/inspector
   ```
   
   Example output: 
   ```sh
   ðŸš€ MCP Inspector is up and running at:
   http://localhost:6274/?MCP_PROXY_AUTH_TOKEN=8aca1a7088efc984e433fd750ed042b1881fbda3734282e3f0e524b00fc3e69f
   ```
   
3. Open the MCP inspector tool by using the URL from the previous command. Then, connect to your MCP server. 
   * Select **Streamable HTTP** from the **Transport Type** drop down. 
   * Enter `http://localhost:3000/mcp` in the **URL** field. 
   * Expand the **Configuration** section and make sure that the **Proxy Session Token** is set to the value of the `PROXY_AUTH_TOKEN` that was shown in the CLI output when you opened the MCP inspector tool. 
   
   ![MCP inspector UI](/images/kmcp-inspector-ov.png "Connect to MCP server with MCP inspector tool")


4. Try out the `echo` MCP tool. 
   1. Go to the **Tools** tab and click **List Tools**. 
   2. Select the `echo` tool. 
   3. Enter any string in the **message** field, such as `Hello world` and click **Run Tool**. 
   4. Verify that you see your message echoed in the **Tool result** card. 
   
   ![Run echo tool in MCP inspector UI](/images/kmcp-inspector-echo-success.png "Successful run of the echo tool")
   
   
   
Congratulations, you successfully developed an MCP server and deployed it to a Kubernetes cluster with KMCP!

## Next

Check out the following resources to learn more about how to use KMCP. 

*

